import pandas as pd
import streamlit as st

import matplotlib.pyplot as plt
st.title("Used cars price prediction")
df=pd.read_csv("train-data.csv")
st.subheader('Raw data')
st.write(df)
st.subheader("data information before preprocessing")
st.image('before.PNG')
st.subheader("Shape of the data")
st.write(df.shape)
st.subheader("pair plot")
st.image('pair plot.png')
st.subheader("Some of the analytics from the data")
st.image('bar km.PNG')
st.image('bar yea.PNG')
st.image('fuel.PNG')
st.subheader("Data info after preprocessing")
st.image('info.PNG')
st.image('pre.PNG')
st.subheader("Model performance after Training")
st.image("performance.PNG")
import pickle 
pickle_in=open('classifier.pkl','rb')
classifier=pickle.load(pickle_in)
st.write("enter the number according to your location given")
st.image('loc.PNG')
Location=st.number_input("location")
year=st.number_input("year")
km=st.number_input("kilometres runned ")
st.write("enter the number according to your fuel type given")
st.image('fueltype.PNG')
Fuel=st.number_input("fuel type")
st.write("enter the number according to your transmission given")
st.image('trans.PNG')
transmission=st.number_input("transmission")
st.write("enter the number according to your ownertype given")
st.image('owtype.PNG')
owner=st.number_input("owner type")
milege=st.number_input("milege")
engine =st.number_input("engine")
power=st.number_input("power")
seats=st.number_input("no of seats")
if st.button("Predict"): 
        result = classifier.predict([[3000,Location,year,km,Fuel,transmission,owner,milege,engine,power,seats]])
        st.success('Your car price can be {}'.format(result)+"Lakhs")
        print(result)
